{"ast":null,"code":"var _jsxFileName = \"/Users/hughphung/Documents/RMIT/2021/SEPT/SEPT-TEAM/SEPT-Team-6/code/FrontEnd/book-shop/src/components/Register/RegisterBusiness.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { Form, Button, Container, Alert } from 'react-bootstrap';\nimport { useForm } from '../../Hooks/useForm';\nimport { useState } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios');\n\nexport const RegisterBusiness = () => {\n  _s();\n\n  const passwordLength = 6;\n  const phoneLength = 10;\n  const {\n    fields,\n    setFields,\n    handleInputChange\n  } = useForm({});\n  const [show, setShow] = useState(false);\n  const [message, setMessage] = useState({\n    success: false,\n    failure: false,\n    message: \"\"\n  });\n\n  const submit = async event => {\n    event.preventDefault();\n\n    if (fields.password !== fields.confirmPassword) {\n      setShow(true);\n      setMessage({\n        success: false,\n        failure: true,\n        message: \"Passwords do not match!\"\n      });\n      return;\n    }\n\n    if (fields.password.length < passwordLength || fields.confirmPassword.length < passwordLength) {\n      setShow(true);\n      setMessage({\n        success: false,\n        failure: true,\n        message: \"Passwords is not long enough!\"\n      });\n      return;\n    }\n\n    if (fields.phone.length !== phoneLength || String(fields.phone).charAt(0) !== '0') {\n      setShow(true);\n      setMessage({\n        success: false,\n        failure: true,\n        message: \"Phone number invalid\"\n      });\n      return;\n    }\n\n    const data = {\n      username: String(fields.username),\n      firstName: String(fields.firstName),\n      lastName: String(fields.lastName),\n      address: String(fields.address),\n      phone: String(fields.phone),\n      userType: \"business\",\n      abn: String(fields.abn),\n      businessName: String(fields.businessName),\n      password: String(fields.password),\n      confirmPassword: String(fields.confirmPassword)\n    };\n\n    try {\n      const config = {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*'\n        },\n        withCredential: true\n      }; // Post URL form here\n\n      const response = await axios.post('http://localhost:8080/api/users/register', data, config);\n\n      if (response.status === 201) {\n        setFields({\n          username: \"\",\n          firstName: \"\",\n          lastName: \"\",\n          address: \"\",\n          phone: \"\",\n          abn: \"\",\n          businessName: \"\",\n          password: \"\",\n          confirmPassword: \"\"\n        });\n        setShow(true);\n        setMessage({\n          success: true,\n          failure: false,\n          message: \"Account creation success\"\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      setShow(true);\n      setMessage({\n        success: false,\n        failure: true,\n        message: \"Account creation failure\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Container, {\n      children: [show === true && message.failure ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        onClose: () => setShow(false),\n        dismissible: true,\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: message.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Fields are incorrect\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), show === true && message.success ? /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"success\",\n        onClose: () => setShow(false),\n        dismissible: true,\n        children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n          children: message.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Account successfully created!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"john.doe@gmail.com\",\n            name: \"username\",\n            value: fields.username,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formFirstName\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"First name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Hugh\",\n            name: \"firstName\",\n            value: fields.firstName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formLastName\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Last name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Janus\",\n            name: \"lastName\",\n            value: fields.lastName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formAddress\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"2 Dickson Court\",\n            name: \"address\",\n            value: fields.address,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formPhone\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Phone\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"0438262941\",\n            name: \"phone\",\n            value: fields.phone,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formABN\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"ABN\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"51824753556 (11 digit number)\",\n            name: \"abn\",\n            value: fields.abn,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBusinessName\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Business Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Lars Janus' Books\",\n            name: \"businessName\",\n            value: fields.businessName,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            name: \"password\",\n            value: fields.password,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Confirm Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            name: \"confirmPassword\",\n            value: fields.confirmPassword,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"submit\",\n          onClick: submit,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 9\n  }, this);\n};\n\n_s(RegisterBusiness, \"br35N6u+ruGMyk2XaFgFj76SN6g=\", false, function () {\n  return [useForm];\n});\n\n_c = RegisterBusiness;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterBusiness\");","map":{"version":3,"sources":["/Users/hughphung/Documents/RMIT/2021/SEPT/SEPT-TEAM/SEPT-Team-6/code/FrontEnd/book-shop/src/components/Register/RegisterBusiness.js"],"names":["React","Form","Button","Container","Alert","useForm","useState","NavLink","axios","require","RegisterBusiness","passwordLength","phoneLength","fields","setFields","handleInputChange","show","setShow","message","setMessage","success","failure","submit","event","preventDefault","password","confirmPassword","length","phone","String","charAt","data","username","firstName","lastName","address","userType","abn","businessName","config","headers","Accept","withCredential","response","post","status","error","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Form, Button, Container, Alert} from 'react-bootstrap'\nimport { useForm } from '../../Hooks/useForm'\nimport { useState } from 'react'\nimport { NavLink } from 'react-router-dom';\n\nconst axios = require('axios');\n\n\nexport const RegisterBusiness = () => {\n    const passwordLength = 6;\n    const phoneLength = 10;\n    const {fields, setFields, handleInputChange} = useForm({});\n    const [show, setShow] = useState(false);\n    const [message, setMessage] = useState({\n        success:false,  \n        failure:false,\n        message:\"\"\n    });\n\n    const submit =  async (event) => {\n        event.preventDefault()\n        if (fields.password !== fields.confirmPassword)\n        {\n            setShow(true);\n\n            setMessage({\n                success: false,\n                failure: true,\n                message: \"Passwords do not match!\"\n            })\n\n            return;\n        }\n\n        if ((fields.password.length < passwordLength) || (fields.confirmPassword.length < passwordLength))\n        {\n            setShow(true);\n\n            setMessage({\n                success: false,\n                failure: true,\n                message: \"Passwords is not long enough!\"\n            })\n\n            return;\n        }\n\n        if (fields.phone.length !== phoneLength || String(fields.phone).charAt(0) !== '0')\n        {\n            setShow(true);\n            setMessage({\n                success: false,\n                failure: true,\n                message: \"Phone number invalid\"\n            })\n\n            return;\n        }\n\n        const data = {\n            username: String(fields.username),\n            firstName: String(fields.firstName),\n            lastName: String(fields.lastName),\n            address: String(fields.address),\n            phone: String(fields.phone),\n            userType: \"business\",\n            abn: String(fields.abn),\n            businessName: String(fields.businessName),\n            password: String(fields.password),\n            confirmPassword: String(fields.confirmPassword)\n        }\n\n        try {\n            const config = {\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Access-Control-Allow-Origin': '*',\n                },\n                withCredential: true\n            }\n\n            // Post URL form here\n            const response = await axios.post('http://localhost:8080/api/users/register', data, config);\n            if(response.status === 201){\n                setFields( {\n                    username: \"\",\n                    firstName: \"\",\n                    lastName: \"\",\n                    address: \"\",\n                    phone: \"\",\n                    abn: \"\",\n                    businessName: \"\",\n                    password: \"\",\n                    confirmPassword: \"\"\n                })\n\n                setShow(true);\n\n                setMessage({\n                    success: true,\n                    failure: false,\n                    message: \"Account creation success\"\n                });\n            }\n\n        }\n        catch (error) {\n            console.log(error)\n            setShow(true);\n            setMessage({\n                success: false,\n                failure: true,\n                message: \"Account creation failure\"\n            });\n        }\n\n\n\n    }\n        \n\n\n    return (\n        <div>\n            \n            <Container>\n                {\n                    show === true && message.failure\n                    ?\n                    <Alert variant=\"danger\" onClose={() => setShow(false)} dismissible>\n                    <Alert.Heading>{message.message}</Alert.Heading>\n                    <p>\n                    Fields are incorrect\n                    </p>\n                    </Alert>\n                    :\n                <></>\n                }\n\n                {\n                    show === true && message.success\n                    ?\n                    <Alert variant=\"success\" onClose={() => setShow(false)} dismissible>\n                    <Alert.Heading>{message.message}</Alert.Heading>\n                    <p>\n                    Account successfully created!\n                    </p>\n                    </Alert>\n                    :\n                <></>\n                }\n\n                <Form>\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n                        <Form.Label>Email address</Form.Label>\n                        <Form.Control type=\"email\" placeholder=\"john.doe@gmail.com\" name = 'username' value = {fields.username} onChange={handleInputChange}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formFirstName\">\n                        <Form.Label>First name</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Hugh\" name = 'firstName' value = {fields.firstName} onChange= {handleInputChange}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formLastName\">\n                        <Form.Label>Last name</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Janus\" name = 'lastName' value = {fields.lastName} onChange= {handleInputChange}/>\n                    </Form.Group>\n                    <Form.Group className=\"mb-3\" controlId=\"formAddress\">\n                        <Form.Label>Address</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"2 Dickson Court\" name = 'address' value = {fields.address} onChange= {handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formPhone\">\n                        <Form.Label>Phone</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"0438262941\" name = 'phone' value = {fields.phone} onChange= {handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formABN\">\n                        <Form.Label>ABN</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"51824753556 (11 digit number)\" name = 'abn' value = {fields.abn} onChange= {handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBusinessName\">\n                        <Form.Label>Business Name</Form.Label>\n                        <Form.Control type=\"text\" placeholder=\"Lars Janus' Books\" name = 'businessName' value = {fields.businessName} onChange= {handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" name='password' value={fields.password} onChange={handleInputChange}/>\n                    </Form.Group>\n\n                    <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n                        <Form.Label>Confirm Password</Form.Label>\n                        <Form.Control type=\"password\" placeholder=\"Password\" name='confirmPassword' value={fields.confirmPassword} onChange={handleInputChange}/>\n                    </Form.Group>\n          \n                    <br></br>\n                    <Button variant=\"primary\" type=\"submit\" onClick={submit}>\n                        Submit\n                    </Button>\n                    <br></br>\n                </Form>\n            </Container>\n            \n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}